sapply(idx, function(x)
ifelse(is.numeric(eval(parse(text = fun_var))),  # size return character
eval(parse(text = fun_var)),              # all else are numeric
as.character(eval(parse(text = fun_var)))))
}
dt <- data.table(ridx = idx+1,
do.call(data.table,
lapply(
sapply(fun_list, function(x) paste(x, collapse = "()$")),
function(y) stat_fun(1, y)
)
)
)
library(data.table)
library(tictoc)
options(torch.extract.style = 'R')
tic()
fun_list <- list(
numel = c("numel"),
sum   = c("sum",    "item"),
mean  = c("mean",   "item"),
std   = c("std",    "item"),
med   = c("median", "item"),
max   = c("max",    "item"),
min   = c("min",    "item")
)
idx <- seq(0L, 599L)
fun_get_tensor <- function(x) py_get_item(train_dataset, x)[[1]]
stat_fun <- function(x, str_fun) {
fun_var <- paste0("fun_get_tensor(x)", "$", str_fun, "()")
sapply(idx, function(x)
ifelse(is.numeric(eval(parse(text = fun_var))),  # size return character
eval(parse(text = fun_var)),              # all else are numeric
as.character(eval(parse(text = fun_var)))))
}
dt <- data.table(ridx = idx+1,
do.call(data.table,
lapply(
sapply(fun_list, function(x) paste(x, collapse = "()$")),
function(y) stat_fun(1, y)
)
)
)
getOption("torch.extract.style")
library(data.table)
library(tictoc)
options(torch.extract.style = 'python')
tic()
fun_list <- list(
numel = c("numel"),
sum   = c("sum",    "item"),
mean  = c("mean",   "item"),
std   = c("std",    "item"),
med   = c("median", "item"),
max   = c("max",    "item"),
min   = c("min",    "item")
)
idx <- seq(0L, 599L)
fun_get_tensor <- function(x) py_get_item(train_dataset, x)[[1]]
stat_fun <- function(x, str_fun) {
fun_var <- paste0("fun_get_tensor(x)", "$", str_fun, "()")
sapply(idx, function(x)
ifelse(is.numeric(eval(parse(text = fun_var))),  # size return character
eval(parse(text = fun_var)),              # all else are numeric
as.character(eval(parse(text = fun_var)))))
}
dt <- data.table(ridx = idx+1,
do.call(data.table,
lapply(
sapply(fun_list, function(x) paste(x, collapse = "()$")),
function(y) stat_fun(1, y)
)
)
)
getOption("torch.extract.style")
rTorch::torch_config()
?install_pytorch
install_pytorch(version = "1.6", conda_python_version = "3.7",
extra_packages = c("pandas", "matplotlib",
dry_run = FALSE)
rTorch::install_pytorch(version = "1.6", conda_python_version = "3.7",
extra_packages = c("pandas", "matplotlib",
dry_run = FALSE)
rTorch::install_pytorch(version = "1.6", conda_python_version = "3.7",
extra_packages = c("pandas", "matplotlib"),
dry_run = FALSE)
source('~/.active-rstudio-document', echo=TRUE)
bookdown::preview_chapter()
bookdown::bookdown_site()
bookdown::serve_book()
bookdown::serve_book()
library(rTorch)
rTorch::torchvision
rTorch::torchvision
rTorch::np
rTorch::torch
rTorch::torchvision
rTorch::np
rTorch::torch
usethis::use_readme_rmd()
# https://stackoverflow.com/questions/45360998/code-folding-in-bookdown
library(readr)
codejs       = readr::read_lines("js/codefolding.js")
collapsejs   = readr::read_lines("js/collapse.js")
transitionjs = readr::read_lines("js/transition.js")
dropdownjs   = readr::read_lines("js/dropdown.js")
buttonjs     = readr::read_lines("js/codehideall-button.js")
my.css       = readr::read_lines("css/united_button_theme.css")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
htmlhead = c(
paste('
<script>',
paste(transitionjs, collapse = "\n"),
'</script>
<script>',
paste(collapsejs, collapse = "\n"),
'</script>
<script>',
paste(codejs, collapse = "\n"),
'</script>
<script>',
paste(dropdownjs, collapse = "\n"),
'</script>
<style type="text/css">',
paste(my.css, collapse = "\n"),
'</style>
<script>',
paste(buttonjs, collapse = "\n"),
'</script>
<script>
$(document).ready(function () {
window.initializeCodeFolding("show" === "hide");
});
</script>', sep = "\n")
source('/media/msfz751/2560x/repos-active/rTorch-toolset/rtorch-minimal-book/hide_code.R')
source('/media/msfz751/2560x/repos-active/rTorch-toolset/rtorch-minimal-book/hide_code.R')
source('/media/msfz751/2560x/repos-active/rTorch-toolset/rtorch-minimal-book/hide_code.R')
usethis::use_readme_md()
